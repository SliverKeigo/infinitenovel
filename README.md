# âˆ Infinite Novel

[![Next.js](https://img.shields.io/badge/Next.js-14-black?logo=next.js)](https://nextjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5-blue?logo=typescript)](https://www.typescriptlang.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-blue?logo=postgresql)](https://www.postgresql.org/)
[![Tailwind CSS](https://img.shields.io/badge/Tailwind_CSS-3-38B2AC?logo=tailwind-css)](https://tailwindcss.com/)
[![shadcn/ui](https://img.shields.io/badge/shadcn/ui-black?logo=shadcn-ui&logoColor=white)](https://ui.shadcn.com/)
[![Zustand](https://img.shields.io/badge/Zustand-black)](https://github.com/pmndrs/zustand)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

> **"è®©æ‚¨çš„å°è¯´ï¼Œæ°¸è¿œæœ‰ä¸‹ä¸€ç« ã€‚"**

**Infinite Novel** æ˜¯ä¸€ä¸ªå®éªŒæ€§çš„ã€åŸºäºå¤š Agent åä½œçš„ AI å°è¯´åˆ›ä½œå¹³å°ã€‚å®ƒæ—¨åœ¨æ¢ç´¢è§£å†³é•¿ç¯‡å°è¯´åˆ›ä½œä¸­ä¸Šä¸‹æ–‡è¿è´¯æ€§ã€è§’è‰²ä¸€è‡´æ€§å’Œæƒ…èŠ‚å¯æŒç»­æ€§çš„æŒ‘æˆ˜ï¼Œä¸ºåˆ›ä½œè€…æä¾›ä¸€ä¸ªæ°¸ä¸æ¯ç«­çš„çµæ„Ÿæºæ³‰å’Œå†™ä½œä¼™ä¼´ã€‚

ä¸æ—©æœŸç‰ˆæœ¬ä¸åŒï¼Œå½“å‰é¡¹ç›®é‡‡ç”¨å…¨æ ˆæ¶æ„ï¼Œé€šè¿‡åç«¯ API ä¸ PostgreSQL æ•°æ®åº“äº¤äº’ï¼Œç¡®ä¿äº†æ•°æ®çš„æŒä¹…æ€§ã€å®‰å…¨æ€§ä¸å¯æ‰©å±•æ€§ã€‚

## æ ¸å¿ƒåŠŸèƒ½

-   **âœï¸ AI é©±åŠ¨çš„åˆ›ä½œæµç¨‹**:
    -   **åˆ›å»ºä¸è®¾å®š**: æ”¯æŒè‡ªå®šä¹‰å°è¯´åç§°ã€é¢˜æã€é£æ ¼ï¼Œå¹¶æä¾›"ç‰¹æ®Šè¦æ±‚"è¾“å…¥æ¡†ä»¥å¾®è°ƒ AI åˆ›ä½œæ–¹å‘ã€‚
    -   **æ™ºèƒ½ç”Ÿæˆ**: AI æ ¹æ®åˆå§‹è®¾å®šï¼Œè‡ªåŠ¨ç”Ÿæˆæ•…äº‹å¤§çº²ã€è§’è‰²è®¾å®šï¼Œå¹¶åˆ›ä½œåç»­ç« èŠ‚ã€‚
    -   **å°è¯´æ¦‚è¦**: åœ¨ç”Ÿæˆå¤§çº²åï¼ŒAI ä¼šè‡ªåŠ¨æç‚¼å’Œç”Ÿæˆæ•´éƒ¨å°è¯´çš„æ¦‚è¦ã€‚

-   **ğŸ—„ï¸ åç«¯é©±åŠ¨ä¸æ•°æ®æŒä¹…åŒ–**:
    -   **PostgreSQL æ•°æ®åº“**: æ‰€æœ‰å°è¯´ã€ç« èŠ‚ã€è§’è‰²ç­‰æ ¸å¿ƒæ•°æ®å‡å­˜å‚¨åœ¨ PostgreSQL æ•°æ®åº“ä¸­ï¼Œç¡®ä¿æ•°æ®å®‰å…¨å’ŒæŒä¹…åŒ–ã€‚
    -   **å¥å£®çš„ API**: é€šè¿‡ Next.js API Routes æä¾›ç¨³å®šã€ç±»å‹å®‰å…¨çš„æ•°æ®æ¥å£ã€‚

-   **ğŸ­ åŠ¨æ€çš„ä¸–ç•Œæ„å»º**:
    -   **è‡ªåŠ¨è§’è‰²åˆ›å»º**: AI åœ¨ç”Ÿæˆå¤§çº²åï¼Œèƒ½è‡ªåŠ¨åˆ†æå¹¶æ‰¹é‡åˆ›å»ºæ ¸å¿ƒè§’è‰²ã€‚
    -   **é›†æˆå¼ç®¡ç†**: åœ¨ç»Ÿä¸€çš„è¯¦æƒ…é¡µä¸­ï¼Œé›†ä¸­ç®¡ç†å’Œæµè§ˆæ‰€æœ‰ç« èŠ‚ã€è§’è‰²å’Œæ•°æ®ã€‚
    -   **æ²‰æµ¸å¼é˜…è¯»**: æä¾›ç®€æ´çš„ç« èŠ‚é˜…è¯»å™¨ï¼Œä¼˜åŒ–é˜…è¯»ä½“éªŒã€‚

-   **ğŸ” å®‰å…¨çš„ AI è°ƒç”¨**:
    -   **åç«¯ä»£ç†**: æ‰€æœ‰å¯¹ OpenAI API çš„è°ƒç”¨éƒ½é€šè¿‡åç«¯ä»£ç†è¿›è¡Œï¼Œé¿å…åœ¨å®¢æˆ·ç«¯æš´éœ² API å¯†é’¥ã€‚
    -   **é›†ä¸­é…ç½®**: æ”¯æŒåœ¨åº”ç”¨å†…ç®¡ç†å¤šä¸ª AI æœåŠ¡é…ç½®ï¼Œæ–¹ä¾¿åˆ‡æ¢å’Œæµ‹è¯•ã€‚

-   **ğŸ¨ ç°ä»£åŒ–çš„æŠ€æœ¯ä¸è®¾è®¡**:
    -   **æŠ€æœ¯æ ˆ**: åŸºäº Next.js 14 (App Router), React, TypeScript æ„å»ºã€‚
    -   **UI/UX**: ä½¿ç”¨ Tailwind CSS å’Œ `shadcn/ui` æ„å»ºç¾è§‚ã€å“åº”å¼çš„ç”¨æˆ·ç•Œé¢ï¼Œå¹¶é€šè¿‡ `Framer Motion` å¢å¼ºäº¤äº’åŠ¨ç”»ã€‚
    -   **çŠ¶æ€ç®¡ç†**: ä½¿ç”¨ `Zustand` è¿›è¡Œè½»é‡ã€é«˜æ•ˆçš„å…¨å±€çŠ¶æ€ç®¡ç†ã€‚

## é¡¹ç›®æ¶æ„

```mermaid
graph TD
    subgraph "å®¢æˆ·ç«¯ (Browser)"
        direction LR
        A1["React Components (UI)"]
        A2["Zustand (State Management)"]
    end

    subgraph "æœåŠ¡ç«¯ (Next.js Server)"
        direction LR
        B["API Routes"]
        C["AI Proxy Service"]
        D["Database Driver (pg)"]
    end
    
    subgraph "å¤–éƒ¨æœåŠ¡"
        E["OpenAI API"]
        F["PostgreSQL Database"]
    end

    %% Flow
    A1 -- "ç”¨æˆ·æ“ä½œ" --> A2
    A2 -- "1. å‘èµ· API è¯·æ±‚ (e.g., /api/novels)" --> B
    
    B -- "2. å¤„ç†ä¸šåŠ¡é€»è¾‘" --> D
    D -- "3. è¯»/å†™æ•°æ®" --> F
    F -- "4. è¿”å›æ•°æ®" --> D
    D -- "5. è¿”å›ç»™ API Route" --> B
    B -- "6. è¿”å›å“åº”" --> A2
    A2 -- "7. æ›´æ–°UIçŠ¶æ€" --> A1

    B -- "å‘èµ·AIä»»åŠ¡" --> C
    C -- "è°ƒç”¨å¤–éƒ¨AIæœåŠ¡" --> E
    E -- "è¿”å›ç»“æœ" --> C
    C -- "è¿”å›ç»™ API Route" --> B
```

## æŠ€æœ¯æ ˆ

-   **æ¡†æ¶**: [Next.js](https://nextjs.org/) 14 (App Router)
-   **è¯­è¨€**: [TypeScript](https://www.typescriptlang.org/)
-   **æ•°æ®åº“**: [PostgreSQL](https://www.postgresql.org/)
-   **æ•°æ®åº“é©±åŠ¨**: [node-postgres (pg)](https://node-postgres.com/)
-   **UI**: [React](https://reactjs.org/), [Tailwind CSS](https://tailwindcss.com/), [shadcn/ui](https://ui.shadcn.com/), [Framer Motion](https://www.framer.com/motion/)
-   **çŠ¶æ€ç®¡ç†**: [Zustand](https://github.com/pmndrs/zustand)
-   **è¡¨å•**: [React Hook Form](https://react-hook-form.com/) & [Zod](https://zod.dev/)
-   **AI**: [OpenAI](https://openai.com/)
-   **å›¾æ ‡ & é€šçŸ¥**: [Lucide React](https://lucide.dev/), [Sonner](https://sonner.emilkowal.ski/)


## æœ¬åœ°è¿è¡Œ

1.  **å…‹éš†ä»“åº“**
    ```bash
    git clone https://github.com/SliverKeigo/infinitenovel.git
    cd infinitenovel
    ```

2.  **å®‰è£…ä¾èµ–**
    ```bash
    npm install
    ```

3.  **è®¾ç½®æ•°æ®åº“**
    -   ç¡®ä¿ä½ æœ‰ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„ PostgreSQL å®ä¾‹ã€‚
    -   è¿æ¥åˆ°ä½ çš„æ•°æ®åº“å¹¶æ‰§è¡Œ `db.sql` æ–‡ä»¶ä¸­çš„ SQL å‘½ä»¤æ¥åˆ›å»ºæ‰€éœ€çš„è¡¨ã€‚
    
4.  **é…ç½®ç¯å¢ƒå˜é‡**
    -   åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª `.env.local` æ–‡ä»¶ã€‚
    -   å¤åˆ¶ä»¥ä¸‹å†…å®¹åˆ°æ–‡ä»¶ä¸­ï¼Œå¹¶æ›¿æ¢ä¸ºä½ çš„å®é™…é…ç½®ï¼š

    ```env
    # .env.local

    # PostgreSQL è¿æ¥å­—ç¬¦ä¸²
    # æ ¼å¼: postgres://[user]:[password]@[host]:[port]/[database]
    POSTGRES_URL="postgres://user:password@localhost:5432/infinitenovel_db"

    # OpenAI API é…ç½® (å¯é€‰, å¦‚æœä½ æƒ³åœ¨åº”ç”¨å†…ç®¡ç†ä¹‹å¤–ä½¿ç”¨)
    # OPENAI_API_KEY="sk-..."
    # OPENAI_API_BASE_URL="https://api.openai.com/v1"
    ```

5.  **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
    ```bash
    npm run dev
    ```

6.  **æ‰“å¼€æµè§ˆå™¨**
    è®¿é—® [http://localhost:3000](http://localhost:3000) å¼€å§‹ä½¿ç”¨ã€‚


## è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [MIT License](https://opensource.org/licenses/MIT) å¼€æºã€‚
